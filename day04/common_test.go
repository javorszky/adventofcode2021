package day04

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func Test_parseBingoBoards(t *testing.T) {
	tests := []struct {
		name  string
		input []string
		want  []bingoBoard
	}{
		{
			name: "correctly parses input string slice into a bingoboard",
			input: []string{`67 97 50 51  1
47 15 77 31 66
24 14 55 70 52
76 46 19 32 73
34 22 54 75 17`},
			want: []bingoBoard{
				{
					pieces: map[string]uint{
						"67": 0b1000000000000000000000000,
						"97": 0b0100000000000000000000000,
						"50": 0b0010000000000000000000000,
						"51": 0b0001000000000000000000000,
						"1":  0b0000100000000000000000000,
						"47": 0b0000010000000000000000000,
						"15": 0b0000001000000000000000000,
						"77": 0b0000000100000000000000000,
						"31": 0b0000000010000000000000000,
						"66": 0b0000000001000000000000000,
						"24": 0b0000000000100000000000000,
						"14": 0b0000000000010000000000000,
						"55": 0b0000000000001000000000000,
						"70": 0b0000000000000100000000000,
						"52": 0b0000000000000010000000000,
						"76": 0b0000000000000001000000000,
						"46": 0b0000000000000000100000000,
						"19": 0b0000000000000000010000000,
						"32": 0b0000000000000000001000000,
						"73": 0b0000000000000000000100000,
						"34": 0b0000000000000000000010000,
						"22": 0b0000000000000000000001000,
						"54": 0b0000000000000000000000100,
						"75": 0b0000000000000000000000010,
						"17": 0b0000000000000000000000001,
					},
					state: emptyState,
				},
			},
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			assert.Equal(t, parseBingoBoards(tt.input), tt.want)
		})
	}
}
